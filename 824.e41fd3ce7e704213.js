"use strict";(self.webpackChunkHardSkills=self.webpackChunkHardSkills||[]).push([[824],{5824:(V,C,r)=>{r.r(C),r.d(C,{PartTypeMasterModule:()=>H});var _=r(9808),p=r(3075),A=r(520),g=r(1083),f=r(6087),l=r(4999),m=r(4847),d=r(8966),t=r(5e3),y=r(1695),x=r(1179),u=r(7423);let q=(()=>{class n{constructor(e,o,a,c){this.dialogRef=e,this.partTypeService=o,this.vehicalService=a,this.data=c}ngOnInit(){}onClose(e){if(e)switch(this.data.type){case"partType":delete this.data.type,this.partTypeService.deletePartTypeMaster(this.data).then(o=>o.json()).then(o=>this.dialogRef.close(o));break;case"vehical":delete this.data.type,this.vehicalService.deleteVehical(this.data).then(o=>o.json()).then(o=>this.dialogRef.close(o));break;default:this.vehicalService.deleteVehical(this.data).then(o=>o.json()).then(o=>this.dialogRef.close(o))}else this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.so),t.Y36(y.V),t.Y36(x.j),t.Y36(d.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-confirm"]],decls:8,vars:0,consts:[[1,"delete-confirm-container"],[1,"title"],[1,"button-container"],["type","button","mat-stroked-button","","color","primary",3,"click"],["type","submit","mat-stroked-button","","color","primary",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2,"Are you sure about to delete the product?"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"button",3),t.NdJ("click",function(){return o.onClose(!1)}),t._uU(5,"Cancel"),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return o.onClose(!0)}),t._uU(7,"Confirm"),t.qZA(),t.qZA(),t.qZA())},directives:[u.lW],styles:[".delete-confirm-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.delete-confirm-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:20px;font-size:16px;font-weight:400}.delete-confirm-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.delete-confirm-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:5px}"]}),n})();var s=r(7322),P=r(4107),Z=r(508),T=r(7531);function S(n,i){if(1&n&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.part_type)}}let M=(()=>{class n{constructor(e,o,a,c){this.formBuilder=e,this.partTypeService=o,this.dialogRef=a,this.partType=c,this.partTypeDetails=null,this.partTypes=[],this.selected="",this.title="Add part type",this.editPartType=new p.cw({})}ngOnInit(){var e,o,a;this.partTypeService.getPartTypeCombo().then(c=>c.json()).then(c=>{this.partTypes=c.data,this.partType.partType&&(this.selected=this.partTypes.filter(h=>h.part_type===this.partTypeDetails.part_type)[0].id),this.editPartType.controls.part_type_id.setValue(this.selected)}),this.partType.partType&&(this.partTypeDetails=this.partType.partType,this.partTypeDetails.id&&(this.title="Edit part type")),this.editPartType=this.formBuilder.group({id:[null===(e=this.partTypeDetails)||void 0===e?void 0:e.id],part_type_id:[this.selected,[p.kI.required]],part_Cost:[null===(o=this.partTypeDetails)||void 0===o?void 0:o.part_Cost,[p.kI.required]],part_type_qty:[null===(a=this.partTypeDetails)||void 0===a?void 0:a.part_type_qty,[p.kI.required]]})}onSubmit(){var e,o;if(this.editPartType&&(null===(o=null===(e=this.editPartType)||void 0===e?void 0:e.controls.id)||void 0===o?void 0:o.value))this.partTypeService.editPartType(this.editPartType.value).then(a=>a.json()).then(a=>this.dialogRef.close(a));else{let a=Object.assign({},this.editPartType.value);delete a.id,a.createdBy=1,this.partTypeService.addPartType(a).then(c=>c.json()).then(c=>this.dialogRef.close(c))}}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.qu),t.Y36(y.V),t.Y36(d.so),t.Y36(d.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-part-type"]],decls:30,vars:5,consts:[[1,"edit-product-form-container"],[1,"products-title"],[1,"edit-product-form",3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","part_type_id",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","formControlName","part_Cost"],["matInput","","type","number","formControlName","part_type_qty"],[1,"button-container"],["type","button","mat-stroked-button","","color","primary",3,"click"],["type","submit","mat-stroked-button","","color","primary",3,"disabled"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h3",1),t._uU(2),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Part type"),t.qZA(),t.TgZ(7,"mat-select",4),t.NdJ("valueChange",function(c){return o.selected=c}),t.TgZ(8,"mat-option"),t._uU(9,"None"),t.qZA(),t.YNc(10,S,2,2,"mat-option",5),t.qZA(),t.TgZ(11,"mat-error"),t._uU(12,"Required"),t.qZA(),t.qZA(),t.TgZ(13,"mat-form-field",3),t.TgZ(14,"mat-label"),t._uU(15,"Cost"),t.qZA(),t._UZ(16,"input",6),t.TgZ(17,"mat-error"),t._uU(18,"Required"),t.qZA(),t.qZA(),t.TgZ(19,"mat-form-field",3),t.TgZ(20,"mat-label"),t._uU(21,"Quantity"),t.qZA(),t._UZ(22,"input",7),t.TgZ(23,"mat-error"),t._uU(24,"Required"),t.qZA(),t.qZA(),t.TgZ(25,"div",8),t.TgZ(26,"button",9),t.NdJ("click",function(){return o.onCancel()}),t._uU(27,"Cancel"),t.qZA(),t.TgZ(28,"button",10),t._uU(29,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(o.title),t.xp6(1),t.Q6J("formGroup",o.editPartType),t.xp6(4),t.Q6J("value",o.selected),t.xp6(3),t.Q6J("ngForOf",o.partTypes),t.xp6(18),t.Q6J("disabled",!o.editPartType.valid))},directives:[p._Y,p.JL,p.sg,s.KE,s.hX,P.gD,p.JJ,p.u,Z.ey,_.sg,s.TO,T.Nt,p.wV,p.Fj,u.lW],styles:[".component-flex-setting[_ngcontent-%COMP%], .edit-product-form-container[_ngcontent-%COMP%]   .edit-product-form[_ngcontent-%COMP%], .edit-product-form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-product-form-container[_ngcontent-%COMP%]{padding:10px 20px 20px}.edit-product-form-container[_ngcontent-%COMP%]   .products-title[_ngcontent-%COMP%]{color:#3f51b5}.edit-product-form-container[_ngcontent-%COMP%]   .edit-product-form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.edit-product-form-container[_ngcontent-%COMP%]   .edit-product-form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:5px}"]}),n})();var v=r(7261),O=r(3874),b=r(7238);function U(n,i){1&n&&(t.TgZ(0,"th",20),t._uU(1," Part Type "),t.qZA())}function w(n,i){if(1&n&&(t.TgZ(0,"td",21),t.TgZ(1,"span",22),t._uU(2),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.part_type)}}function D(n,i){1&n&&(t.TgZ(0,"th",20),t._uU(1," Cost "),t.qZA())}function N(n,i){if(1&n&&(t.TgZ(0,"td",21),t.TgZ(1,"span"),t._uU(2,"\u20b9"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=i.$implicit;t.xp6(3),t.hij("",e.part_Cost," ")}}function R(n,i){1&n&&(t.TgZ(0,"th",20),t._uU(1," Quantity "),t.qZA())}function k(n,i){if(1&n&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",e.part_type_qty," ")}}function Y(n,i){1&n&&(t.TgZ(0,"th",23),t._uU(1," Action "),t.qZA())}function J(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",21),t.TgZ(1,"button",24),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().editPartType(c)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",25),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().deletePartType(c.id)}),t.TgZ(5,"mat-icon"),t._uU(6,"delete_outline"),t.qZA(),t.qZA(),t.qZA()}}function Q(n,i){1&n&&t._UZ(0,"tr",26)}function j(n,i){1&n&&t._UZ(0,"tr",27)}function B(n,i){if(1&n&&(t.TgZ(0,"tr",28),t.TgZ(1,"td",29),t._uU(2),t.qZA(),t.qZA()),2&n){t.oxw();const e=t.MAs(12);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const E=function(){return[5,10,20,30]},F=[{path:"",component:(()=>{class n{constructor(e,o,a,c){this.partTypeService=e,this.dialog=o,this.router=a,this.snackBar=c,this.partTypes=[],this.displayedColumns=["Type","Cost","Quantity","action"],this.dataSource=new l.by}ngOnInit(){this.getPartType()}getPartType(){this.partTypeService.getPartType().then(e=>e.json()).then(e=>{this.partTypes=e.data,this.dataSource.data=[...this.partTypes]})}editPartType(e){this.dialog.open(M,{width:"50rem",data:{partType:e}}).afterClosed().subscribe(a=>{a&&(this.getPartType(),this.snackBar.open(a.message,"X"))})}addPartType(){this.dialog.open(M,{width:"50rem",data:{partType:null}}).afterClosed().subscribe(o=>{o&&(this.getPartType(),this.snackBar.open(o.message,"X"))})}deletePartType(e){this.dialog.open(q,{width:"25rem",data:{id:e,type:"partType"}}).afterClosed().subscribe(a=>{a&&(this.getPartType(),this.snackBar.open(a.message,"X"))})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngAfterViewInit(){var e,o;this.dataSource.paginator=null!==(e=this.paginator)&&void 0!==e?e:null,this.dataSource.sort=null!==(o=this.sort)&&void 0!==o?o:null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.V),t.Y36(d.uw),t.Y36(g.F0),t.Y36(v.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-part-type"]],viewQuery:function(e,o){if(1&e&&(t.Gf(f.NW,5),t.Gf(m.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first)}},decls:32,vars:5,consts:[[1,"container"],[1,"products-title"],["type","button","mat-stroked-button","","color","primary",1,"add-product-button",3,"click"],[1,"mat-elevation-z8"],["appearance","outline"],["matInput","","placeholder","Ex. Interior",3,"keyup"],["input",""],["matSuffix",""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Type"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Cost"],["matColumnDef","Quantity"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"title"],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Edit part type","matTooltipPosition","after",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete part type","matTooltipPosition","after",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2,"Part type"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.addPartType()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA(),t._uU(6," Add new part type"),t.qZA(),t.TgZ(7,"div",3),t.TgZ(8,"mat-form-field",4),t.TgZ(9,"mat-label"),t._uU(10,"Search Product"),t.qZA(),t.TgZ(11,"input",5,6),t.NdJ("keyup",function(c){return o.applyFilter(c)}),t.qZA(),t.TgZ(13,"mat-icon",7),t._uU(14,"search"),t.qZA(),t.qZA(),t.TgZ(15,"table",8),t.ynx(16,9),t.YNc(17,U,2,0,"th",10),t.YNc(18,w,3,1,"td",11),t.BQk(),t.ynx(19,12),t.YNc(20,D,2,0,"th",10),t.YNc(21,N,4,1,"td",11),t.BQk(),t.ynx(22,13),t.YNc(23,R,2,0,"th",10),t.YNc(24,k,2,1,"td",11),t.BQk(),t.ynx(25,14),t.YNc(26,Y,2,0,"th",15),t.YNc(27,J,7,0,"td",11),t.BQk(),t.YNc(28,Q,1,0,"tr",16),t.YNc(29,j,1,0,"tr",17),t.YNc(30,B,3,1,"tr",18),t.qZA(),t._UZ(31,"mat-paginator",19),t.qZA(),t.qZA()),2&e&&(t.xp6(15),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,E)))},directives:[u.lW,O.Hw,s.KE,s.hX,T.Nt,s.R9,l.BZ,m.YE,l.w1,l.fO,l.Dz,l.as,l.nj,l.Ee,f.NW,l.ge,m.nU,l.ev,b.gM,l.XQ,l.Gk],styles:[".container[_ngcontent-%COMP%]{margin:3rem}.container[_ngcontent-%COMP%]   .products-title[_ngcontent-%COMP%]{color:#3f51b5}.container[_ngcontent-%COMP%]   .add-product-button[_ngcontent-%COMP%]{margin-bottom:20px;opacity:.9;background-color:#eaf3f3}.container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:99%;margin:.5rem .5rem 0}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:98%}}@media screen and (max-width: 425px){.container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:95%}}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#3f51b5}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem}}@media screen and (max-width: 425px){.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.6rem}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.7rem}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;width:5rem;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{margin:3rem 2rem}}@media screen and (max-width: 425px){.container[_ngcontent-%COMP%]{margin:2rem 1rem}}"]}),n})()}];let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(F)],g.Bz]}),n})();var I=r(6856),X=r(4889);let H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez,z,A.JF,l.p0,f.TU,u.ot,O.Ps,d.Is,s.lN,T.c,b.AV,m.JX,v.ZX,P.LD,I.FA,Z.XK,X.SJ,p.UX]]}),n})()}}]);