"use strict";(self.webpackChunkHardSkills=self.webpackChunkHardSkills||[]).push([[267],{267:(G,h,r)=>{r.r(h),r.d(h,{TaxTypeMasterModule:()=>H});var _=r(9808),y=r(1083),f=r(6087),p=r(4999),T=r(4847),d=r(8966),t=r(5e3),P=r(5655);let g=(()=>{class n{constructor(){this.port=P.X}getTaxTypes(){return fetch(`${this.port}/getTaxTypeList`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"})}getTaxTypeCombo(){return fetch(`${this.port}/getTaxTypeCombo`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"})}addTaxType(e){return fetch(`${this.port}/addTaxType`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})}editTaxType(e){return fetch(`${this.port}/editTaxType`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})}deleteTaxTypeMaster(e){return fetch(`${this.port}/deleteTaxTypeMaster`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=r(7423);let b=(()=>{class n{constructor(e,o,a){this.dialogRef=e,this.taxTypeService=o,this.data=a}ngOnInit(){}onClose(e){e?this.taxTypeService.deleteTaxTypeMaster(this.data).then(o=>o.json()).then(o=>this.dialogRef.close(o)):this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.so),t.Y36(g),t.Y36(d.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-tax-type"]],decls:8,vars:0,consts:[[1,"delete-confirm-container"],[1,"title"],[1,"button-container"],["type","button","mat-stroked-button","","color","primary",3,"click"],["type","submit","mat-stroked-button","","color","primary",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2,"Are you sure about to delete the tax type?"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"button",3),t.NdJ("click",function(){return o.onClose(!1)}),t._uU(5,"Cancel"),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return o.onClose(!0)}),t._uU(7,"Confirm"),t.qZA(),t.qZA(),t.qZA())},directives:[u.lW],styles:[".delete-confirm-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.delete-confirm-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:20px;font-size:16px;font-weight:400}.delete-confirm-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.delete-confirm-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:5px}"]}),n})();var l=r(3075),s=r(7322),C=r(4107),A=r(508),x=r(7531);function S(n,i){if(1&n&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.tax_type)}}let Z=(()=>{class n{constructor(e,o,a,c){this.formBuilder=e,this.taxTypeService=o,this.dialogRef=a,this.taxType=c,this.taxTypeDetails=null,this.taxTypes=[],this.selected="",this.title="Add tax type",this.editTaxType=new l.cw({})}ngOnInit(){var e,o,a,c;this.taxTypeService.getTaxTypeCombo().then(m=>m.json()).then(m=>{this.taxTypes=m.data,this.taxType.taxType&&(this.selected=this.taxTypes.filter(V=>V.tax_type===this.taxTypeDetails.tax_type)[0].id),this.editTaxType.controls.tax_type_id.setValue(this.selected)}),this.taxType.taxType&&(this.taxTypeDetails=this.taxType.taxType,this.taxTypeDetails.id&&(this.title="Edit tax type")),this.editTaxType=this.formBuilder.group({id:[null===(e=this.taxTypeDetails)||void 0===e?void 0:e.id],tax_type_id:[this.selected,[l.kI.required]],tax_type_validity:[null===(o=this.taxTypeDetails)||void 0===o?void 0:o.tax_type_validity,[l.kI.required]],tax_cost:[null===(a=this.taxTypeDetails)||void 0===a?void 0:a.tax_cost,[l.kI.required]],tax_type_status:[null===(c=this.taxTypeDetails)||void 0===c?void 0:c.tax_type_status,[l.kI.required]]})}onSubmit(){var e,o;if(this.editTaxType&&(null===(o=null===(e=this.editTaxType)||void 0===e?void 0:e.controls.id)||void 0===o?void 0:o.value))this.taxTypeService.editTaxType(this.editTaxType.value).then(a=>a.json()).then(a=>this.dialogRef.close(a));else{let a=Object.assign({},this.editTaxType.value);delete a.id,a.createdBy=1,this.taxTypeService.addTaxType(a).then(c=>c.json()).then(c=>this.dialogRef.close(c))}}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(g),t.Y36(d.so),t.Y36(d.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-tax-type"]],decls:36,vars:5,consts:[[1,"edit-product-form-container"],[1,"products-title"],[1,"edit-product-form",3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","tax_type_id",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","tax_type_validity"],["matInput","","type","number","formControlName","tax_cost"],["matInput","","type","number","formControlName","tax_type_status"],[1,"button-container"],["type","button","mat-stroked-button","","color","primary",3,"click"],["type","submit","mat-stroked-button","","color","primary",3,"disabled"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h3",1),t._uU(2),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Tax type"),t.qZA(),t.TgZ(7,"mat-select",4),t.NdJ("valueChange",function(c){return o.selected=c}),t.TgZ(8,"mat-option"),t._uU(9,"None"),t.qZA(),t.YNc(10,S,2,2,"mat-option",5),t.qZA(),t.TgZ(11,"mat-error"),t._uU(12,"Required"),t.qZA(),t.qZA(),t.TgZ(13,"mat-form-field",3),t.TgZ(14,"mat-label"),t._uU(15,"Validity"),t.qZA(),t._UZ(16,"input",6),t.TgZ(17,"mat-error"),t._uU(18,"Required"),t.qZA(),t.qZA(),t.TgZ(19,"mat-form-field",3),t.TgZ(20,"mat-label"),t._uU(21,"Cost"),t.qZA(),t._UZ(22,"input",7),t.TgZ(23,"mat-error"),t._uU(24,"Required"),t.qZA(),t.qZA(),t.TgZ(25,"mat-form-field",3),t.TgZ(26,"mat-label"),t._uU(27,"Status"),t.qZA(),t._UZ(28,"input",8),t.TgZ(29,"mat-error"),t._uU(30,"Required"),t.qZA(),t.qZA(),t.TgZ(31,"div",9),t.TgZ(32,"button",10),t.NdJ("click",function(){return o.onCancel()}),t._uU(33,"Cancel"),t.qZA(),t.TgZ(34,"button",11),t._uU(35,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(o.title),t.xp6(1),t.Q6J("formGroup",o.editTaxType),t.xp6(4),t.Q6J("value",o.selected),t.xp6(3),t.Q6J("ngForOf",o.taxTypes),t.xp6(24),t.Q6J("disabled",!o.editTaxType.valid))},directives:[l._Y,l.JL,l.sg,s.KE,s.hX,C.gD,l.JJ,l.u,A.ey,_.sg,s.TO,x.Nt,l.Fj,l.wV,u.lW],styles:[".component-flex-setting[_ngcontent-%COMP%], .edit-product-form-container[_ngcontent-%COMP%]   .edit-product-form[_ngcontent-%COMP%], .edit-product-form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-product-form-container[_ngcontent-%COMP%]{padding:10px 20px 20px}.edit-product-form-container[_ngcontent-%COMP%]   .products-title[_ngcontent-%COMP%]{color:#3f51b5}.edit-product-form-container[_ngcontent-%COMP%]   .edit-product-form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.edit-product-form-container[_ngcontent-%COMP%]   .edit-product-form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:5px}"]}),n})();var M=r(7261),O=r(3874),v=r(7238);function q(n,i){1&n&&(t.TgZ(0,"th",21),t._uU(1," Tax type "),t.qZA())}function U(n,i){if(1&n&&(t.TgZ(0,"td",22),t.TgZ(1,"span",23),t._uU(2),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.tax_type)}}function w(n,i){1&n&&(t.TgZ(0,"th",21),t._uU(1," Validity "),t.qZA())}function N(n,i){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",e.tax_type_validity," ")}}function D(n,i){1&n&&(t.TgZ(0,"th",21),t._uU(1," Cost "),t.qZA())}function k(n,i){if(1&n&&(t.TgZ(0,"td",22),t.TgZ(1,"span"),t._uU(2,"\u20b9"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=i.$implicit;t.xp6(3),t.hij("",e.tax_cost," ")}}function R(n,i){1&n&&(t.TgZ(0,"th",21),t._uU(1," Status "),t.qZA())}function Y(n,i){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",e.tax_type_status," ")}}function J(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1," Action "),t.qZA())}function j(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",22),t.TgZ(1,"button",25),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().editTaxType(c)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",26),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().deleteTaxType(c.id)}),t.TgZ(5,"mat-icon"),t._uU(6,"delete_outline"),t.qZA(),t.qZA(),t.qZA()}}function B(n,i){1&n&&t._UZ(0,"tr",27)}function F(n,i){1&n&&t._UZ(0,"tr",28)}function Q(n,i){if(1&n&&(t.TgZ(0,"tr",29),t.TgZ(1,"td",30),t._uU(2),t.qZA(),t.qZA()),2&n){t.oxw();const e=t.MAs(12);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const E=function(){return[5,10,20,30]},I=[{path:"",component:(()=>{class n{constructor(e,o,a,c){this.taxTypeService=e,this.dialog=o,this.router=a,this.snackBar=c,this.taxTypes=[],this.displayedColumns=["Type","Validity","Cost","Status","action"],this.dataSource=new p.by}ngOnInit(){this.getTaxType()}getTaxType(){this.taxTypeService.getTaxTypes().then(e=>e.json()).then(e=>{this.taxTypes=e.data,this.dataSource.data=[...this.taxTypes]})}editTaxType(e){this.dialog.open(Z,{width:"50rem",data:{taxType:e}}).afterClosed().subscribe(a=>{a&&(this.getTaxType(),this.snackBar.open(a.message,"X"))})}addTaxType(){this.dialog.open(Z,{width:"50rem",data:{taxType:null}}).afterClosed().subscribe(o=>{o&&(this.getTaxType(),this.snackBar.open(o.message,"X"))})}deleteTaxType(e){this.dialog.open(b,{width:"25rem",data:{id:e}}).afterClosed().subscribe(a=>{a&&(this.getTaxType(),this.snackBar.open(a.message,"X"))})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngAfterViewInit(){var e,o;this.dataSource.paginator=null!==(e=this.paginator)&&void 0!==e?e:null,this.dataSource.sort=null!==(o=this.sort)&&void 0!==o?o:null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g),t.Y36(d.uw),t.Y36(y.F0),t.Y36(M.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tax-type"]],viewQuery:function(e,o){if(1&e&&(t.Gf(f.NW,5),t.Gf(T.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first)}},decls:35,vars:5,consts:[[1,"container"],[1,"products-title"],["type","button","mat-stroked-button","","color","primary",1,"add-product-button",3,"click"],[1,"mat-elevation-z8"],["appearance","outline"],["matInput","","placeholder","tax type",3,"keyup"],["input",""],["matSuffix",""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Type"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Validity"],["matColumnDef","Cost"],["matColumnDef","Status"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"title"],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Edit tax type","matTooltipPosition","after",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete tax type","matTooltipPosition","after",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2,"Tax types"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.addTaxType()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA(),t._uU(6," Add new tax type"),t.qZA(),t.TgZ(7,"div",3),t.TgZ(8,"mat-form-field",4),t.TgZ(9,"mat-label"),t._uU(10,"Search Product"),t.qZA(),t.TgZ(11,"input",5,6),t.NdJ("keyup",function(c){return o.applyFilter(c)}),t.qZA(),t.TgZ(13,"mat-icon",7),t._uU(14,"search"),t.qZA(),t.qZA(),t.TgZ(15,"table",8),t.ynx(16,9),t.YNc(17,q,2,0,"th",10),t.YNc(18,U,3,1,"td",11),t.BQk(),t.ynx(19,12),t.YNc(20,w,2,0,"th",10),t.YNc(21,N,2,1,"td",11),t.BQk(),t.ynx(22,13),t.YNc(23,D,2,0,"th",10),t.YNc(24,k,4,1,"td",11),t.BQk(),t.ynx(25,14),t.YNc(26,R,2,0,"th",10),t.YNc(27,Y,2,1,"td",11),t.BQk(),t.ynx(28,15),t.YNc(29,J,2,0,"th",16),t.YNc(30,j,7,0,"td",11),t.BQk(),t.YNc(31,B,1,0,"tr",17),t.YNc(32,F,1,0,"tr",18),t.YNc(33,Q,3,1,"tr",19),t.qZA(),t._UZ(34,"mat-paginator",20),t.qZA(),t.qZA()),2&e&&(t.xp6(15),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,E)))},directives:[u.lW,O.Hw,s.KE,s.hX,x.Nt,s.R9,p.BZ,T.YE,p.w1,p.fO,p.Dz,p.as,p.nj,p.Ee,f.NW,p.ge,T.nU,p.ev,v.gM,p.XQ,p.Gk],styles:[".container[_ngcontent-%COMP%]{margin:3rem}.container[_ngcontent-%COMP%]   .products-title[_ngcontent-%COMP%]{color:#3f51b5}.container[_ngcontent-%COMP%]   .add-product-button[_ngcontent-%COMP%]{margin-bottom:20px;opacity:.9;background-color:#eaf3f3}.container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:99%;margin:.5rem .5rem 0}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:98%}}@media screen and (max-width: 425px){.container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:95%}}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#3f51b5}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem}}@media screen and (max-width: 425px){.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.6rem}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.7rem}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;width:5rem;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{margin:3rem 2rem}}@media screen and (max-width: 425px){.container[_ngcontent-%COMP%]{margin:2rem 1rem}}"]}),n})()}];let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.Bz.forChild(I)],y.Bz]}),n})();var X=r(520),$=r(6856);let H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez,z,X.JF,l.UX,p.p0,f.TU,u.ot,O.Ps,d.Is,s.lN,x.c,v.AV,T.JX,M.ZX,C.LD,$.FA]]}),n})()}}]);